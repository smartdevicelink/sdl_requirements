
## Functional requirements  

1.  
In case   
device successfully connects over USB transport  

and mobile app from this device sends RegisterAppInterface_request with:
- "appHMIType" = PROJECTION
- isMedia = any
- `<hashID>`
- other valid params  

and requested `<hashID>` is equal to the value stored for this app  

SDL must
start Data Resumption process for this application (by existing rules)  

2.  
In case   
device successfully connects over USB transport  

and mobile app from this device sends RegisterAppInterface_request with:
- "appHMIType" = PROJECTION
- isMedia = any
- `<hashID>`
- other valid params  

and requested `<hashID>` is NOT equal to the value stored for this app  

SDL must  
interrupt Data Resumption process for this application (by existing rules)  

3.  
In case  
PROJECTION mobile app successfully registers and satisfies all conditions for HMILevel resumption  

SDL must  
resume app to FULL or LIMITED HMILevel by sending OnHMIStatus notification to mobile app  
notify HMI by sending BC.ActivateApp request (in case of resumption to FULL)  
OR BC.OnResumeAudioSource notification (in case of resumption to LIMITED)  

4.  
In case  
SDL receives VR.Started from HMI  
and PROJECTION mobile app successfully registers and satisfies all conditions for HMILevel resumption (MEDIA or NON-MEDIA)  

SDL must  
postpone HMILevel resumption for this app  
resume HMILevel ONLY after receiving VR.Stopped from HMI

5.  
In case  
SDL receives OnEventChanged (EMERGENCY_EVENT, isActive=true) from HMI  
and PROJECTION mobile app successfully registers and satisfies all conditions for HMILevel resumption (MEDIA or NON-MEDIA)  

SDL must  
postpone HMILevel resumption for this app  
resume HMILevel ONLY after receiving OnEventChanged (EMERGENCY_EVENT, isActive=false) from HMI  

6.  
In case  
SDL receives OnEventChanged (PHONE_CALL, isActive=true) from HMI  
and PROJECTION mobile app successfully registers and satisfies all conditions for HMILevel resumption (MEDIA or NON-MEDIA)  

SDL must  
postpone HMILevel resumption for this app  
resume HMILevel ONLY after receiving OnEventChanged (PHONE_CALL, isActive=false) from HMI  

7.  
In case  
SDL receives OnEventChanged (DEACTIVATE_HMI, isActive=true) from HMI  
and PROJECTION mobile app successfully registers and satisfies all conditions for HMILevel resumption (MEDIA or NON-MEDIA)  

SDL must  
postpone HMILevel resumption for this app  
resume HMILevel ONLY after receiving OnEventChanged (DEACTIVATE_HMI, isActive=false) from HMI  

8.  
In case  
SDL receives OnEventChanged (EMBEDDED_NAVI, isActive=true) from HMI  
and PROJECTION mobile app successfully registers and satisfies all conditions for HMILevel resumption (MEDIA or NON-MEDIA)  

SDL must  
cancel HMILevel resumption for this app  
assign `<default_HMILevel>` to this app  

9.  
In case  
SDL receives OnEventChanged (AUDIO_SOURCE, isActive=true) from HMI  
and PROJECTION MEDIA mobile app successfully registers and satisfies all conditions for HMILevel resumption  

SDL must  
cancel HMILevel resumption for this app  
assign `<default_HMILevel>` to this app  

10.  
In case  
SDL receives OnEventChanged (AUDIO_SOURCE, isActive=true) from HMI  
and PROJECTION NON-MEDIA mobile app successfully registers and satisfies all conditions for HMILevel resumption   

SDL must  
resume HMILevel for this app according to existed rules


## Diagram

Mobile projection application resumption

![Mobile projection application resumption](https://github.com/smartdevicelink/sdl_requirements/blob/master/detailed_docs/accessories/HMILevel_and_Data_Resumption.png)
