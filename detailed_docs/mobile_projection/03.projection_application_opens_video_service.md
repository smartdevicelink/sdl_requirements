## Use Case 1: Projection application opens video service

**Main Flow:**

_Pre-conditions:_  
a. mobile application with `appID` is registering on SDL  
b. "appHMIType" = PROJECTION  
c. application is runnung in FULL  

_Steps:_  
1. Application successfully opens RPC service  
2. Application requests opening video service  

_Expected:_  
3. SDL transfers request to start video service to HMI
4. SDL sends StartStream request to HMI to initiate the channel for streaming video raw data sent by projection application  
5. HMI  respond with successfull `<resultCode>` to StartStream
6. SDL keeps video service opened   
7. Application starts streaming raw data over successfully opened video service

**Exception 1:**  
1.a.1 RPC service is not yet acknowledged for this application  
1.a.2 SDL responds StartService _NACK for to this mobile app
1.a.3 SDL does not open video service for this app  

**Exception 2:**  
3.a.1 HMI does not respond to start video service request  
3.a.2 SDL sends request to HMI as much times as defined at "StartStreamRetry" param  
3.a.3 HMI does not respond or  responds with any `<errorCode>`    

**Exception 3:**  
4.a.1 HMI responds with any `<errorCode>` to StartStream request  
4.a.2 SDL sends failed StartStream request to HMI as much times as defined at "StartStreamRetry" param  
4.a.3 HMI responsds any_resultCode during active retry strategy  
4.a.4 SDL stops sending StartStream request to HMI  
4.a.5 SDL stops video service  

**Alternative flow 1**  
4.a.3.a HMI does not respond respond OR responds any `<errorCode>` to  or HMI  StartStream during retry strategy  
4.a.3.b SDL sends StopStream  to HMI  
4.a.3.c SDL sends EndService for video service to mobile app


## Use Case 2: Projection application streams video data  

**Main Flow:**

_Pre-conditions:_ 
a. mobile application with `appID` is registering on SDL  
b. "appHMIType" = PROJECTION  
c. application is runnung in FULL  
d. application successfully opens video service  
e. application streams raw data over successfully opened video service   

_Steps:_  
1. Application stops streaming over this opened video service  
2. Application does not restart streaming during SDL's "VideoDataStoppedTimeout" timeout  

_Expected:_  
3. SDL sends Navigation.OnVideoDataStreaming (available:false) to HMI
[SDL notifies HMI about raw video data sending over the URL provided via StartStream SDL's request]

**Alternative flow 1**  
1.a.1 Application turns to BACKGROUND or NONE HMILevel by any reason  

_Expected:_  
1.a.2 SDL sends EndService for video service to mobile app  
1.a.3 SDL starts "StopStreamingTimeout" timer  
1.a.4 SDL sends StopStream request to HMI

**Exception: 1**  
1.a.2.a application does not send EndService_ACK during the "StopStreamingTimeout" timer  
1.a.2.b SDL sends OnAppInterfaceUnregistered (PROTOCOL_VIOLATION) notification to mobile app
1.a.2.c SDL sends notification to HMI about application unregistered
